class Solution {
    public:
    bool backspaceCompare(string s, string t) {
        int m=s.size(), n=t.size();
        int u=0, v=0;
        
        for(int i=0; i<m; i++){
            if(s[i] == '#'){
                u--;
                u = max(0, u);
            }
            else{
                s[u] = s[i];
                u++;
            }
        }
        
        for(int i=0; i<n; i++){
            if(t[i] == '#'){
                v--;
                v = max(0, v);
            }
            else{
                t[v] = t[i];
                v++;
            }
        }
        
        if(u != v) return false;
        
        for(int i=0; i<v; i++){
            if(s[i] != t[i]) return false;
        }
        
        return true;
    }
};